# getBestCouple

# 문제
<img  width="80%" src="https://user-images.githubusercontent.com/24884819/56495053-5aa2d580-652f-11e9-8a7d-4851018ecf7a.png">

# 풀이
* 구하고자 하는 바는 취미(문자열)가 __가장많이__ 일치하는 커플 목록을 뽑아야 한다.
* 한사람당 무조건 10개의 취미를 가져야 하며 중복된 선택은 하지 않는다.
* 자바스크립트 파일읽고 처리한 부분은 [여기서](http://www.gisdeveloper.co.kr/?p=5566) 참고하였다.
1. HelloCouple.html
    * 다른의미로 본다면 문자열의 일치 중 가장 많은 문자열의 일치가 이루어지는 대상자를 찾는 문제라고 보면되겠다.
    * AB, BA는 같은 취미이다 = 순서는 고려하지 않는다.
    * 10개로 이루어진 조합부터 9,8..1까지의 모든 문자열의 조합을 구해서 비교하면서 커플을 찾아보자
    * 물론 일치하는 시점이 가장 베스트 케이스가 되므로 그 아래의 케이스는 고려하지 않도록 해서 검색수를 줄인다.
    * 문자열의 조합을 구하는 함수를 만들어보자([참고사이트1](https://gorakgarak.tistory.com/523), [참고사이트2](https://limkydev.tistory.com/156))
        * 항상 어떤 조합 같은걸 구할때 자주 쓰는 재귀를 여기서도 사용하게된다.
        * 일단 수학공식을 써보자 1,2,3 세개의 구슬중에서 2개를 뽑는 모든 경우의 수는 3P2 = 3 * 2 * 1 = 6 중복제외한다면 3C2 = 3 * 2 * 1 / 2 * 1 = 3 우리는 3C2를 구현해야한다.
        * 1번을 뽑는경우(현재 index가 가리키고 있는 녀석을 뽑는경우) = 첫번째 숫자 1
            * 2번을 뽑는경우
                * 두개 뽑아야 하는데 다뽑았네? 끝 (1,2)
            * 2번을 뽑지않는 경우
                * 3번을 뽑는경우
                    * 두개 뽑아야 하는데 다 뽑았네? 끝 (1,3)
                * 3번을 뽑지 않는 경우
                    * 어.. 다봤는데 뽑은게 하나밖에 없네? 끝 = 뽑기실패~
        * 1번을 뽑지않는경우(현재 index가 가리키고 있는 녀석을 뽑지않는 경우)
            * 2번을 뽑는경우 = 첫번째 숫자 2
                * 3번을 뽑는경우
                    * 두개 뽑아야 하는데 다뽑았네? 끝 (2,3) 
                * 3번을 뽑지않는 경우
                    * 어.. 다봤는데 뽑은게 하나밖에 없네? 끝 = 뽑기실패~
            * 2번을 뽑지 않는 경우
                * 3번을 뽑는경우 = 첫번째 숫자 3
                    * 어.. 다봤는데 뽑은게 하나밖에 없네? 끝 = 뽑기실패~
                * 3번을 뽑지 않는 경우
                    * 어.. 다봤는데 뽑은게 없네? 끝 = 뽑기실패~
        * 어떤가? 반복되는게 보이는가?? 위의 순서를 그대로 옮겨놓은게 doCombination 함수이다.
    * 나머지는 주석을 확인하시고~ 만들면서 좀 더 속도 상향을 할 수 있지 않을까 하고 드는 몇가지 공식을 찾고 있는게 있다.
        * 예를 들어서 3명일때 __최악의 경우에서도 최소 겹침수__는 몇일까?
            * 1번이 A~J까지 취미가 있고 2번이 그다음 열개 3번이 나머지 6개(영어 문자는 26개임) 그리고 나머지 4개로 
            최악의 케이스를 찾아보면 1번과 2번 각각 두개씩 해서 최소 두번의 문자열 두개의 겹침은 발생할 수밖에 없다.
        * 이걸 경우의 수를 찾게 된다면 베스트케이스의 처음 수가 1이 아니라 더 높은수가 되어서 더 빠른 결과를 도출해 낼 수 있겠다.
        * [이거 수학공식 질문하는곳에다가 올려둬야겠다.](https://okky.kr/article/573212)  
            
   
2. HelloCouple2.html
    * 사실 이게 두번째 버전이었다 위의 것이 세번째 버전 첫번째 버전은 단순무식 for문 두번돌아가면서 비교해서 답을내는것이었다.(물론 cpu폭발)
    * 이 버전은 26개 알파벳이 정해져 있으니 이 알파벳 별로 가지고 있는 대상을 넣는다(ex - A라는 문자를 1,2,45,78번이 가지고 있다.)
    * 그리고 난 후 1번부터 자신의 알파벳을 가장 훑어본 뒤에 가장 많이 가지고 있는 대상을 추출해서 베스트 케이스를 찾는 방식이다
    * 물론 중간에 어떻게하면 비교하는걸 더 줄일까 하여 조건을 많이 달았다.
    * 그러나 위의 Case에 비해서 비교횟수가 압도적으로 차이가 났다.
    
# 어떤 공부가 되었는가
* for문에서의 .length의 위험성
    ~~~
    var testArray = new Array(100000000);
    var testArrayLength = testArray.length;
    
    console.log("start1");
    for(var i = 0 ; i < testArray.length ; i++){
        testArray[i] = i;
    }
    console.log("end1");
    
    console.log("start2");
    for(var i = 0 ; i < testArrayLength ; i++){
        testArray[i] = i;
    }
    console.log("end2");
    ~~~ 

    * 개인적으로 많이 충격먹었던 부분이다. 이런게 성능에 지대한 영향이 가는구나를 이번에 많이 깨달은부분인데 위의 1번과 2번의 차이점이 보이는가?
    * for문안에 배열.length를 써서 for문을 돌리는것과 2번처럼 length를 변수에 넣은뒤에 해당 값으로 돌린다는 점이 차이인데 이게 데이터가 많아지니
    엄청난 결과를 가져왔다.

        ![amazing](https://user-images.githubusercontent.com/24884819/56702802-f0fa1580-6740-11e9-8b4f-9a56c99becae.png)
      
    * 항상 반복문에서의 조심해야함은 개발하면서도 꾸준히 느껴야 할 것 같다.

* 재귀함수의 사용
    * callDoCombi함수를 구현하려다보니 처음에는 남에꺼 가져다 썼다가 이번에 재귀함수를 사용했는데 알다가도 어렵다..
    
* 데이터 확인의 중요성

    <img width="565" alt="differ" src="https://user-images.githubusercontent.com/24884819/56873964-4f8cff80-6a71-11e9-988c-8f6a4acbb61d.png">
    
    * 파일 내부의 데이터를 \n기준으로 split하여 데이터를 처리하려 하였으나 이상하게도 보이지 않는 특수 문자가 포함되어져 있었다.
    그거 때문에 실컷 답 다 구하고도 제대로 도출도 하지 못하였다. 결과를 도출함에 있어서 꾸준한 확인이 필요하겠다.
    ~~~
    // 초기화 부분 개선 resultObjData = [] -> resultObjData = {}
    if(max_combi < k){
        resultObjData = {};
    }
    ~~~
    * 이 부분 또한 제대로 확인이 안되어서 헤메었던 부분 원하던건 최신의 max_combi처리를 위한 부분이었는데 초기화를 배열로 해서 추후 데이터 출력에서 문제가 되었다.
    
* 빠른속도의 JavaScript Object와 ES6자료 구조들
    ~~~
    for(var key in resultObjData){
        output += callDoCombiForResult(resultObjData[key],2);
    }
    ~~~
    * 아무래도 진행하면서 자바스크립트에는 자료구조가 없는가에 대해서 굉장히 많이 찾아보게된 계기가 되었다. JAVA에 존재하는 자료구조들에 대해서
    고마움도 느끼고 데이터를 저장하고 출력하는 방면에서는 Object에서의 속도가 굉장히 빨랐다.
    * [ES6에서부터 지원하는 Set, Map자료구조 또한 써보면 좋을것 같다.](https://medium.com/@hongkevin/js-5-es6-map-set-2a9ebf40f96b)
> 이 문제에 대해서는 여기까지~ 고생했습니다 Tim, [Noah](https://github.com/BangShinChul)